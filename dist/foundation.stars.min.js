"use strict";function _classCallCheck(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,a){for(var e=0;e<a.length;e++){var i=a[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(a,e,i){return e&&t(a.prototype,e),i&&t(a,i),a}}();!function(t){var a=function(){function a(e,i){_classCallCheck(this,a),this.$element=e,this.options=t.extend({},a.defaults,this.$element.data(),i),this._init(),Foundation.registerPlugin(this,"Stars"),Foundation.Keyboard.register("Stars",{ARROW_UP:"rate_up",ARROW_DOWN:"rate_down"})}return _createClass(a,[{key:"_init",value:function(){if(this.rating=this.options.rating,this.$starsWrapper=t('<div class="stars">'),this.options.editable){this.rating=parseInt(this.$element.val()),this.$element.after(this.$starsWrapper);for(var a=0;a<this.options.maxStars;a++){var e=t('<a class="star" data-rate="'+(a+1)+'"><i class="'+(this.rating<a+1?this.options.emptyStar:this.options.filledStar)+'"></i></a>');this.$starsWrapper.append(e)}this._events()}}},{key:"_events",value:function(){var a=this;this.$starsWrapper.find(".star").each(function(e,i){t(i).on("mouseover",function(t){a.onHover(t,e)}).on("mouseout",a.onOut.bind(a)).on("click",a.onClick.bind(a))})}},{key:"onHover",value:function(a,e){var i=this;t(a.currentTarget);this.$starsWrapper.find(".star").each(function(a,n){e>=a?t(n).find("i").removeClass(i.options.emptyStar).addClass(i.options.filledStar):t(n).find("i").removeClass(i.options.filledStar).addClass(i.options.emptyStar)})}},{key:"onOut",value:function(){var a=this,e=this;this.$starsWrapper.find(".star").each(function(i,n){i>a.options.rating?t(n).find("i").removeClass(e.options.filledStar).addClass(e.options.emptyStar):t(n).find("i").removeClass(e.options.emptyStar).addClass(e.options.filledStar)})}},{key:"onClick",value:function(a){var e=t(a.currentTarget),i=e.data("rate");this.$element.val(i),this.options.rating=i}},{key:"destroy",value:function(){Foundation.unregisterPlugin(this)}}],[{key:"defaults",get:function(){return{maxStars:5,emptyStar:"fa fa-star-o",filledStar:"fa fa-star",editable:!0,rating:0}}}]),a}();Foundation.plugin(a,"Stars")}(jQuery);