"use strict";function _classCallCheck(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,a){for(var s=0;s<a.length;s++){var e=a[s];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(a,s,e){return s&&t(a.prototype,s),e&&t(a,e),a}}();!function(t){var a=function(){function a(s,e){_classCallCheck(this,a),this.$element=s,this.options=t.extend({},a.defaults,this.$element.data(),e),this._init(),Foundation.registerPlugin(this,"Stars"),Foundation.Keyboard.register("Stars",{ARROW_UP:"rate_up",ARROW_DOWN:"rate_down"})}return _createClass(a,[{key:"_init",value:function(){if(this.rating=this.options.rating,this.options.editable){this.rating=parseInt(this.$element.val()),this.$starsWrapper=t('<div class="stars">'),this.$element.after(this.$starsWrapper);for(var a=0;a<this.options.maxStars;a++){var s=t('<a class="star" data-rate="'+(a+1)+'"><i class="'+(this.rating<a+1?this.options.emptyStar:this.options.filledStar)+'"></i></a>');this.$starsWrapper.append(s)}this._events()}else{this.$element.addClass("stars");for(var e=0;e<this.options.maxStars;e++){var i=t('<span class="star" data-rate="'+(e+1)+'"><i class="'+(this.rating<e+1?this.options.emptyStar:this.options.filledStar)+'"></i></span>');this.$element.append(i)}}}},{key:"_events",value:function(){var a=this;this.$starsWrapper.find(".star").each(function(s,e){t(e).on("mouseover",function(t){a.onHover(t,s)}).on("mouseout",a.onOut.bind(a)).on("click",a.onClick.bind(a))})}},{key:"onHover",value:function(a,s){var e=this;t(a.currentTarget);this.$starsWrapper.find(".star").each(function(a,i){s>=a?t(i).find("i").removeClass(e.options.emptyStar).addClass(e.options.filledStar):t(i).find("i").removeClass(e.options.filledStar).addClass(e.options.emptyStar)})}},{key:"onOut",value:function(){var a=this,s=this;this.$starsWrapper.find(".star").each(function(e,i){e>=a.options.rating?t(i).find("i").removeClass(s.options.filledStar).addClass(s.options.emptyStar):t(i).find("i").removeClass(s.options.emptyStar).addClass(s.options.filledStar)})}},{key:"onClick",value:function(a){var s=t(a.currentTarget),e=s.data("rate");this.$element.val(e),this.options.rating=e}},{key:"destroy",value:function(){Foundation.unregisterPlugin(this)}}],[{key:"defaults",get:function(){return{maxStars:5,emptyStar:"fa fa-star-o",filledStar:"fa fa-star",editable:!1,rating:0}}}]),a}();Foundation.plugin(a,"Stars")}(jQuery);